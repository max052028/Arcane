## Arcane Circuit 系統設計文檔

### 🎯 系統目的

Arcane Circuit 是遊戲中以魔法為基礎的邏輯建構系統，允許玩家透過能量源、節點與符紙組合出自訂功能，類似《Minecraft》的紅石電路，但更著重於魔法與符文互動。

---

### 🔌 魔力傳遞原理（Arcane Flow）

#### 能量源（Energy Source）

* **發散式傳遞（Broadcast）**：

  * 預設所有能量源皆為發散型。
  * 傳遞範圍內所有具輸入端口的節點皆會被激發。
  * 魔力強度依距離遞減，適合低強度、泛用觸發。

* **約束式傳遞（Constrained）**：

  * 當能量源搭配「約束器（Constrictor）」時，魔力僅沿特定方向輸出。
  * 可配合導流晶體或相位晶體進行精確控制。

#### 導流晶體（Flow Crystal）

* 用於引導魔力形成線性流動路徑。
* 不同極性（例如：單向、雙向）與相容性設定，避免錯誤連線。
* 適合構建穩定魔力鏈路與高效能電路。

#### 相位晶體（Phase Crystal）

* 經配對的晶體組能實現點對點傳輸。
* 支援跨區域魔力連結，可做遠距啟動或封閉空間施法。
* 需與約束能量源搭配方可精準傳輸。

---

### 🧩 魔力流與符紙串接

#### 魔力流中性特性

* 所有魔力流預設為中性，無屬性或特殊性質。
* 魔力流經過「符紙（Rune Scroll）」時，會依序讀取並激發其中符文。
* 一條魔力線路經多張符紙時，可組合出完整魔法。

#### 符紙結構

* 符紙是記錄符文的載體，可裝載：

  * 一段完整能構成施法效果的符文序列
  * 單一或數個片段符文（例如僅元素符或僅修飾符）
* 符紙可依需求裝配於魔力線路中，組成串接或並聯結構。

#### 符紙連接邏輯

* **串接（Serial）**：

  * 符文依順序串聯：如「冰 → 加強 → 發射」。
  * 適用於結構明確且順序重要的魔法效果。

* **並聯（Parallel）**：

  * 多條路徑同時輸入魔力流。
  * 可搭配開關控制特定分支流通。
  * 例如：「冰符紙」與「火符紙」並聯，由開關控制輸出哪一條進入後續串接（如發射符紙）。

#### 魔力開關與流向控制

* 開關節點控制魔力能否通過，支援觸發器、條件節點等設計。
* 可實現如下機制：

  * 按鈕觸發：玩家互動啟動魔法流程
  * 條件轉換：魔力只在條件成立時流通
  * 模式切換：切換不同魔法配置（如冰彈 / 火彈）

---

### 📌 設計應用實例

1. **冰火切換砲塔**：

   * 發射器串接於「發射」符紙
   * 並聯兩條路徑：

     * 冰符紙（符文：冰）
     * 火符紙（符文：火）
   * 兩條分支皆受單一能量源驅動
   * 使用開關切換其中一條路徑

2. **遠距召喚法陣**：

   * 使用相位晶體傳遞魔力至封閉區域
   * 符紙內含「召喚」符文與座標定位符文

3. **自動感應防禦裝置**：

   * 魔力感應節點檢測敵人接近
   * 觸發魔力流通，啟動「符文陷阱」符紙並釋放魔法

---

（未完，待擴充：節點分類、視覺化機制、錯誤保護）
